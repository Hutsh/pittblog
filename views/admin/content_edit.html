{% extends 'layout.html' %}

{% block main %}

{% include "admin_nav.html" %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>

<h3 class="mt-4">Edit: {{content.title}}</h3>

<div id="success-info" class="alert alert-success" style="display: none;" role="alert"></div>
<form role="form" method="">
    <div class="form-group">
        <label for="title">Categoryï¼š</label>
        <div id="category-warning" class="alert alert-danger" style="display: none;" role="alert"></div>
        <select name="category" id="category" class="form-control">
            {%for category in categories%}
                {%if content.category._id.toString() == category._id.toString()%}
                    <option value="{{category.id}}" selected>{{category.name}}</option>
                {%else%}
                    <option value="{{category.id}}">{{category.name}}</option>
                {%endif%}
            {%endfor%}
        </select>
    </div>

    <div class="form-group">
        <label for="title">Title:</label>
        <div id="title-warning" class="alert alert-danger" style="display: none;" role="alert"></div>
        <input type="text" value="{{content.title}}" class="form-control" id="title" name="title">
    </div>

    <div class="form-group">
        <label for="description">Description:</label>
        <div id="description-warning" class="alert alert-danger" style="display: none;" role="alert"></div>
        <textarea name="description" id="description" class="form-control" rows="5">{{content.description}}</textarea>
    </div>

<!--     <div class="form-group">
        <label for="content">Content:</label>
        <div id="content-warning" class="alert alert-danger" style="display: none;" role="alert"></div>
        <textarea name="content" id="pre-content" class="form-control" rows="10">{{content.content}}</textarea>
    </div> -->

    <!-- editor  area -->
    <textarea name="content" style="display: none;" id="pre-content" class="form-control" rows="10">{{content.content}}</textarea>
    <div class="form-group">
        <label for="content">Content:</label>
        <div id="content-warning" class="alert alert-danger" style="display: none;" role="alert"></div>
        <textarea name="field" id="fieldTest" cols="30" rows="10"></textarea>
    </div>
    <!-- editor  area -->

<!--     <button class="btn btn-default">Submit</button> -->
    <input id="post-id-input" type="hidden" value="{{content._id.toString()}}">
    <button id="post-edit-submit" type="button" class="btn btn-primary">Submit</button>
</form>



<!-- Modal -->
<div class="modal fade" id="editPostInfoModel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Success!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="alert alert-success" role="alert">
          Post updated!
        </div>
      </div>
      <div class="modal-footer">
        <a class="btn btn-dark" href="/admin/post/">Go to post list</a>
      </div>
    </div>
  </div>
</div>

{% endblock %}